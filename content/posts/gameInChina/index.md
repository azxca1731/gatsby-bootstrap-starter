---
title: 중국에서 게임서비스 사용하기
date: '2018-11-19T02:05:39.036Z'
layout: post
path: '/gameInChina/'
category: Conference
tags:
  - Service
  - China
---

#중국의 시장 규모
현재 중국의 시장은 한국의 21배이다.
그리고 심지어 100위에서 500위까지도 10 ~ 15배이다.

IOS 유저가 돈을 더 많이 쓰는 경향을 보이나 하지만 안드로이드 유저가 더 많아 실제 자금은 안드로이드 유저들이 더 많은 것으로 나타났다.
현재 통계자로로서는 중국은 이러한 큰 시장이지만 앞으로 스마트폰 보급율이 더 늘어나 더 전망이 좋은 시장이다.

<!--more-->

---

###중국의 상황과 규제
1. Android store 파편화
    - 이는 각각의 시장 스토어 마다 다른 방식의 결제를 구현해야한다는 한계를 가지고 있다.
2. 불안정한 국가 간 네트워크
    - 중국과 한국의 레이턴시는 좋지가 않고 다른나라 (태국 - 한국)간의 레이턴시 및 로스도 좋지 않은 상황이다.
3. 판호라는 중국의 허가권이 있다 하지만 한국 게임은 이 판호를 받기엔 너무나 어려운 점이 있다. 현재 한국게임의 판호는 0.7% 밖에 점유하고 있지 않다. 이 관문에서 대부분 좌절한다.
    - 온라인 출판 서비스 관리규정
4. 게임 서버등을 운용할때 중국내 인프라를 사용해야 한다는 규정이있다.


---

###사례로 보는 어려움
#####킹덤 스토리
1. 인기 게임은 변조 앱을 부른다
    1. 1주일만에 게속 어뷰징(스피드핵 및  변조앱)하는 것들이 계속 늘어나고 있다.
    2. 앱가드라는 보안툴로는 다 막지 못한다.
2. 만리 방화벽(Great Firewall - 금순공정)
    1. 정부에서 중국으로부터의 해외 인터넷 접근을 제어
    2. DNS,IP등이 차단 되거나 이런 경우들이 많이 일어남
3. 글로벌 CDN도 중국에서는 글로벌하지 않을 수 있다.
    1. 중국 내에서 글로벌 CDN 사용 시 라우팅 경로 비효율과 해외 트래픽 제한으로 인해 품질이 떨어짐
    2. 예시로 중국유저가 일본,홍콩,대만등의 엣지로 연결하여 느리거나 실패함

---

#####크루세이더 퀘스트
1. 중국은 중국의 특이성 때문에 AppGuard 레벨 2가 아닌 레벨 1으로 적용
    - 유저가 다운로드를 받은 것을 변조앱으로 오인하는 경우가 다반사라 1로 할 수 밖에 없음
2. 다양한 침해
    1. 패킷 복제를 이용하여 서버 공격
        - 캐쉬 락과 디비 상의 트랙잭션 처리로 방어
    2. DDoS 공격
        - CDN POP 도메인을 앞단에 설정해 방어
    3. 변조 앱을 이용한 어뷰징
        - 앱가드를 이용하여 더 보호
3. 네트워크 / 인프라 이슈
    - 중국 내에 SDN 같은 서버를 운용
4. 리세마라로 인한 잔존율 왜곡

---

#####그 외의 게임들
1. 중국 전용 CDN을 해외에서 더 많이 이용
    - 해외에 있는 중국 유저들이 많이 사용하여 중국에서 많이 사용함
    - 예시로 해외 트래픽은 97퍼센트 중국내에는 3퍼센트가 차지하였다.
2. IOS ATS 에외 등록
    - http 프로토콜의 중국 전용 CDN과 DNS를 준비해야함
    - 이를 보안 예외 URL로 등록하지 않아 중국 전용 CDN과 DNS를 이용할 수 없었음
3. 개발사의 CDN GSLB 안정성 의심
    - 일부 샘플링 테스트만으로 CDN GSLB 전체를 의심

---

### 중국 서비스를 위한 대응
1. Log & Crash 로그 검색 활용
    - 이런 저런 로그를 심어놓아 유저들이 어떻게 이탈하게 되는지 세세하게 모니터링이 필요
    - 장점으로 어디서 에러가 발생하고 왜 유저들이 이탈하는지 이유를 알 수 있음
    - 이러한 방법으로 잔존율을 높일 수 있음
    - Network Insight 활용
    - 관리자가 정한 서버까지의 레이턴시를 확인가능 고로 서비스를 어디다가 둬야할지 알 수 있음
2. CDN 모니터링 활용
    - DWA (Dynamic Web Accelration) 균일한 품질의 네트워크 레이턴시를 제공가
3. 중국 현지 Domain Name 사용
    - 같은 서비스여도 중국 도메일을 이용하여 다시 한번 확인
4. 네트워크 이슈
    - 전용선을 구축하면 좋긴하지만 우회 솔루션(아카마, 아이온)을 이용하여 우회 프록시들을 이용하여 우회 솔루션 전용선을 마련
    - 트래픽 줄이기, 패킷을 압축을 하여 하나로 보내는 방법을 선호함
5. 다양한 기기
    - 유명한 기기들만 서비스 하는것을 목표로
    - 마이너한 기기들을 제제
6. 주요 타깃 그룹 설정이 필요
    - 일본은 가챠, 중국은 횡스크롤이 인기
7. 단일 월드를 하지말고 멀티 월드로